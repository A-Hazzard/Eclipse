<div id = "calculator-main">
        <!--RESEARCH LINE HEIGHT, JUSTIFY CONTENT-->

        <div class="sub-navbar">
          <ul>
            <li><a href="../index.html"> Home </a> > </li>
            <li>Calculator</li>
          </ul>

        </div>

        <div id="calc-info">
        <h2>Repair Estimate Calculator</h2>

          <p>
            Repair Estimate tool helps you find out the estimated repair cost of your 
            vehicle. Just enter the details of your vehicle and select <br> the type of services
            you wish to avail and instantly get a quote for free. Additionally, you can 
            book repair services on our platform.
          </p>
        </div>

          <div id="progress">
            <div id="progress-bar"></div>
            <ul id="progress-num">
              <li class="step active">1</li>
              <li class="step">2</li>
              <li class="step">3</li>
            </ul>
          </div>

          <!--Sections that contains the calculator, also a flexbox-->
          <section id="calculator">

        <div class="wrapper">
            <div id="input-container">
            
            </div>

            <button id="progress-prev" class="btn" disabled>Prev</button>
            <button id="progress-next" class="btn" disabled>Next</button> 

        </div>

            <div id="display-container">
            <div id = "vehicleDisplay">
              <img src="https://lh3.googleusercontent.com/MwN3juPSBsOMsS8INWndT-kwIXyQT-oocb9QvoKo40Bm6XHQD4uXfGEDGE_XU0hnI_1Ls3PnWq65vC5yAFbgxyxVa0xLq7xd2hBD1cjak0C3GgSqmqMn6aF7zZ7QWTHI1mq4APklqRzuumgjLDxhHh8jw_WRlZ4KKJP2rQDS9wdiOvGI4fvNacPplK6bzVnwvD6O9GG2pIuId5LOCNK5pvULct_zqV_FsTDhFYnys_7B7gHpgKAbvWgeAtcf43aFYWkR4D6zPg5Mn5qK88oYWIhRqlaBCIO9BgAix3sbjpW_BsdwkNgV2A-v_VhAZV0UYzcjm7heSEniUvamuPE6KkcwS-nqwr-AF5aFEIDmqnSTUbxkgXCGdVI0aK56jcKSPV5hqeSzgn8dWDG03cwc1DFrJK3qruZnY7a8BPhTlSgpRfZlMrJJ43oeghDBu--CGbOxp75d1sNML_DmqDJIx2ECoqtF2a6zd-K-SLIK0vg1bLSwLezCh9GUmLN5s0cvJ26caIeEw_U0CJ7hLZ-b4srrt_hTGLTb9VogdzfvEJFbO7V6bJyph4QKtWUw0cNnU_e9jhnUn5icGNE1p0OuwI9NkDYhjmrmbPvUILnu37qUWH_b9R6b8Efziejascd6pDDwhWbKxKfAX_UelnrzvNWFcit6lECzshCu0uJ520B9ZLV0iUxfDUoLkqikWwtNzh8vUCPmuXm3-7S_mxAv3IvTmeYfhu0IdGSoh5SdM_G2-Cwqv_3639N1CbiSUrQ0Lah2SOCQxz2tc6U2iVlO6w5McycMq9rQk96-MYQfwHjmVQTktpEcm1tYh0EG_tI22YssQ04Hh5zrlxzRYY5cdVeMmVGhY_owaHccHYrukR4t7QNqP-wUTjRVgTcB67cWCa5DAGGhsqqJC35D5Duo1bLM3lVi6s_pALj4FtE24bXf4SYxOs4UAnyiWKTr9-lPp-BeuAJNXHopGZ5rV_A=w142-h157-no?authuser=0" 
              alt="picture of a car" id = "defaultImg">
            </div>
            <div id="subDisplay">
               <p id="display-header">Estimated cost</p>
              <p id="display-note">Your estimated price will be displayed here</p>
              <p id="code"></p>
            </div>
             
            </div>
          </section>
</div>

<script>

  //Vanilla js code
  const progressBar = document.getElementById("progress-bar");
  const progressNext = document.getElementById("progress-next");
  const progressPrev = document.getElementById("progress-prev");
  const steps = document.querySelectorAll(".step");
  let active = 1;

  progressNext.addEventListener("click", () => {
    active++;
    if (active > steps.length) {
      active = steps.length;
    }
    updateProgress();
  });

  progressPrev.addEventListener("click", () => {
    active--;
    if (active < 1) {
      active = 1;
    }
    updateProgress();
  });

  const updateProgress = () => {
    steps.forEach((step, i) => {
      if (i < active) {
        step.classList.add("active");
      } else {
        step.classList.remove("active");
      }
    });
    progressBar.style.width = ((active - 1) / (steps.length - 1)) * 100 + "%";
    if (active === 1) {
      progressPrev.disabled = true;
    } else if (active === steps.length) {
      progressNext.disabled = true;
    } else {
      progressPrev.disabled = false;
      progressNext.disabled = false;
    }
  };


  //JQUERY CODE
let car = false;
let truck = false;
let van = false;
let motorbike = false;
  $("#input-container").load("pages/states/vehicleInfo.txt").fadeIn("slow");
  let step = 1;

   $("#progress-prev").on('click', function(){
    step--;
    console.log("Step" + step);

      if(step === 1){
        car = false;
        truck = false;
        van = false;
        motorbike = false;
        $("#input-container").hide().load("pages/states/vehicleInfo.txt").fadeIn("slow");
      }
  });

  //loads PRICES on click

   $("#progress-next").on('click', function(){
    step++;
    console.log("Step " + step);
       if(step === 2){
          if (car == true){
              $("#input-container").hide().load("pages/states/servicePrices/carPrices.txt").fadeIn("slow");
              console.log("loaded car services");
            }

            else if (truck == true){
              $("#input-container").hide().load("pages/states/servicePrices/truckPrices.txt").fadeIn("slow");
              console.log("loaded truck services");
            }

            else if (van == true){
              $("#input-container").hide().load("pages/states/servicePrices/vanPrices.txt").fadeIn("slow");
              console.log("loaded van services");
            }

            else if (motorbike == true){
              $("#input-container").hide().load("pages/states/servicePrices/bikePrices.txt").fadeIn("slow");
              console.log("loaded motorbike services");
            }
        }

      else if(step === 3){
        $("#input-container").hide().load("pages/states/bookings.txt").fadeIn("slow");
        $("#progress-prev").hide();
        $("#progress-next").hide();
      }
  })
</script>